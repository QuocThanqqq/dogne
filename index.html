<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | DogCute</title>
    <link rel="shortcut icon" href="TemplateData/favicon.ico">
    <link rel="stylesheet" href="TemplateData/style.css">
    <link rel="manifest" href="manifest.webmanifest">
<script src="https://telegram.org/js/telegram-web-app.js?1"></script>
</head>
  <body>
    <div id="unity-container">
      <canvas id="unity-canvas" width="1080" height="1920" tabindex="-1" allow="clipboard-read; clipboard-write"></canvas>
    <div id="unity-loading-bar">
      <div id="unity-loading-bar">
        <div id="unity-logo"></div>
        <div id="unity-progress-bar-empty">
          <div id="unity-progress-bar-full"></div>
        </div>
      </div>
      <div id="unity-warning"> </div>
    </div>
    <script src="index.js"></script>

	<script>
    function focusCanvas() {
      var canvas = document.getElementById('unity-canvas');
      if (canvas) {
        canvas.focus();
      }
    }

    window.onload = function() {
      focusCanvas();
      window.addEventListener('resize', function() {
        setTimeout(focusCanvas, 200);
      });
    };

    // Listen to Telegram Web App events
    Telegram.WebApp.onEvent('mainButtonClicked', focusCanvas);
    Telegram.WebApp.onEvent('viewportChanged', focusCanvas);

    // Blur inputs and focus canvas
    document.querySelectorAll('input, textarea').forEach(function(element) {
      element.addEventListener('focusout', function() {
        setTimeout(focusCanvas, 200);
      });
    });
  </script>
 </body>
</html>
